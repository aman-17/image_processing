<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<cat xmlns="urn:apple:names:siri:cat:1.0" id="PlayMediaIntent#Play" locale="en">
    <conditions>
       <condition name="hasFallbackUsername" note="has fallback user">
           <expression name="fallbackUsername" op="nonempty"/>
       </condition>
       <condition name="attributionWithFallbackUsername" note="attribution required with a fallback user">
           <and>
               <expression name="app.localizedName" op="nonempty"/>
               <expression name="isAppAttributionRequired"/>
               <expression name="fallbackUsername" op="nonempty"/>
               <not>
                   <expression name="isPersonalized"/>
               </not>
           </and>
       </condition>
       <condition name="attributionWithDialogMemory" note="attribution required using dialog memory">
           <and>
               <expression name="app.localizedName" op="nonempty"/>
               <expression name="isAppAttributionRequired"/>
               <expression name="useDialogMemoryForAppAttribution"/>
           </and>
       </condition>
       <condition name="appSpecifiedOrAttributionRequired">
           <and>
               <expression name="app.localizedName" op="nonempty"/>
               <or>
                   <expression name="isAppAttributionRequired"/>
                   <expression name="isAppSpecified"/>
               </or>
           </and>
       </condition>
       <condition name="areSpeakerNamesPresent">
           <or>
               <expression name="wha.firstSpeakerName"/>
               <expression name="wha.secondSpeakerName"/>
           </or>
       </condition>
       <condition name="areSpeakerRoomsPresent">
           <or>
               <expression name="wha.firstSpeakerRoom"/>
               <expression name="wha.secondSpeakerRoom"/>
           </or>
       </condition>
       <condition name="areBothPermanentNamesPresent">
           <and>
               <expression name="wha.firstPermanentNameFromSpokenEntities"/>
               <expression name="wha.secondPermanentNameFromSpokenEntities"/>
           </and>
       </condition>
       <condition name="isPermanentNameAndRoomNamePresent">
           <and>
               <expression name="wha.firstPermanentNameFromSpokenEntities"/>
               <expression name="wha.firstRoomNameFromSpokenEntities"/>
               <or>
                   <not>
                       <expression name="wha.secondPermanentNameFromSpokenEntities"/>
                   </not>
                   <expression name="wha.secondPermanentNameFromSpokenEntities" op="empty"/>
               </or>
           </and>
       </condition>
       <condition name="isOnlyFirstPermanentNamePresent">
           <and>
               <expression name="wha.firstPermanentNameFromSpokenEntities"/>
               <or>
                   <not>
                       <expression name="wha.secondPermanentNameFromSpokenEntities"/>
                   </not>
                   <expression name="wha.secondPermanentNameFromSpokenEntities" op="empty"/>
               </or>
               <or>
                   <not>
                       <expression name="wha.firstRoomNameFromSpokenEntities"/>
                   </not>
                   <expression name="wha.firstRoomNameFromSpokenEntities" op="empty"/>
               </or>
           </and>
       </condition>
    </conditions>
    <phrases>
        <first phrase="modTitle">
            <text>
                <print>‘<var name="title"/>’</print>
                <speak><say-as interpret-as="music"><var name="title"/></say-as></speak>
            </text>
        </first>
        <first phrase="titleByArtist">
            <text condition="isRadioStation"><var name="title"/></text>
            <first condition="isPlaylist">
                <text condition="isPlaybackQueueLocationLater">Your playlist <phrase name="modTitle"/></text>
                <text><phrase name="modTitle"/></text>
            </first>
            <text>
                <print>‘<var name="title"/>’<opt><break time="0ms"/> by <var name="artist"/></opt></print>
                <speak><say-as interpret-as="music"><var name="title"/></say-as><opt><break time="0ms"/> by <say-as interpret-as="music"><var name="artist"/></say-as></opt></speak>
            </text>
        </first>
        <first phrase="appUsers">
            <text condition="attributionWithFallbackUsername"><opt> <var name="fallbackUsername" inflect="genitive"/></opt></text>
            <text/>
        </first>
        <first phrase="onRepeatFromApp">
            <first condition="isOnRepeat">
                <text condition="attributionWithFallbackUsername"> on repeat<opt> from<phrase name="appUsers"/> <var name="app.localizedName"/></opt></text>
                <text condition="attributionWithDialogMemory"> on repeat<opt> from<phrase name="appUsers"/> <var name="app.localizedName" ground="OnceThisWeek"/></opt></text>
                <text condition="appSpecifiedOrAttributionRequired"> on repeat<opt> from<phrase name="appUsers"/> <var name="app.localizedName"/></opt></text>
                <text> on repeat</text>
            </first>
            <first condition="appSpecifiedOrAttributionRequired">
                <text condition="attributionWithFallbackUsername"><opt> from<phrase name="appUsers"/> <var name="app.localizedName"/></opt></text>
                <first condition="attributionWithDialogMemory" note="Due to the opt phrase bug we throw all the dialog memory combinations in here to avoid empty phrases">
                    <text condition="isPersonalized"><opt> from<phrase name="appUsers"/> <var name="app.localizedName" ground="OnceThisWeek"/></opt></text>
                    <text condition="artist"><opt> on<phrase name="appUsers"/> <var name="app.localizedName" ground="OnceThisWeek"/></opt></text>
                    <text condition="isPlaybackQueueLocationNext"><opt> on<phrase name="appUsers"/> <var name="app.localizedName" ground="OnceThisWeek"/></opt></text>
                    <text condition="isAppAttributionRequired"><opt> on<phrase name="appUsers"/> <var name="app.localizedName" ground="OnceThisWeek"/></opt></text>
                    <text><opt> on<phrase name="appUsers"/> <var name="app.localizedName" ground="OnceThisWeek"/></opt></text>
                </first>
                <text condition="isPersonalized"><opt> from<phrase name="appUsers"/> <var name="app.localizedName"/></opt></text>
                <text condition="artist"><opt> on<phrase name="appUsers"/> <var name="app.localizedName"/></opt></text>
                <text condition="isPlaybackQueueLocationNext"><opt> on<phrase name="appUsers"/> <var name="app.localizedName"/></opt></text>
                <text condition="isAppAttributionRequired"><opt> on<phrase name="appUsers"/> <var name="app.localizedName"/></opt></text>
                <text><opt> on<phrase name="appUsers"/> <var name="app.localizedName"/></opt></text>
            </first>
            <text/>
        </first>
        <first phrase="appAttributionPossessive">
            <text condition="attributionWithFallbackUsername"><opt> <phrase name="appUsers"/> <var name="app.localizedName"/></opt></text>
            <text condition="attributionWithDialogMemory"> your<opt> <var name="app.localizedName" ground="OnceThisWeek"/></opt></text>
            <text condition="isAppAttributionRequired"> your<opt> <var name="app.localizedName"/></opt></text>
            <text> your</text>
        </first>
        <first phrase="MUI" note="Multi User Introduction">
            <text condition="isGrounding">OK, <var name="user.groundingIfNeeded"/>, </text>
            <text/>
        </first>
        <first phrase="OKMUI" note="OK Multi User Introduction">
            <text condition="isGrounding"><phrase name="MUI"/></text>
            <text>OK, </text>
        </first>
        <first phrase="personalizedName">
            <text condition="hasFallbackUsername"><var name="fallbackUsername" inflect="genitive"/></text>
            <text><var name="user" inflect="genitive"/></text>
        </first>
        <first phrase="groupsDialog">
            <text condition="areBothPermanentNamesPresent"> on the <var name="wha.firstPermanentNameFromSpokenEntities"/> and <var name="wha.secondPermanentNameFromSpokenEntities"/></text>
            <text condition="isPermanentNameAndRoomNamePresent"> on the <var name="wha.firstPermanentNameFromSpokenEntities"/> and in the <var name="wha.firstRoomNameFromSpokenEntities"/></text>
            <text condition="isOnlyFirstPermanentNamePresent"> on the <var name="wha.firstPermanentNameFromSpokenEntities"/></text>
            <text/>
        </first>
        <first phrase="whaDialog">
            <text condition="wha.isAllSpeakers"> everywhere</text>
            <text condition="wha.hasThreeOrMoreRooms"> in multiple rooms</text>
            <text condition="wha.hasGroups"><phrase name="groupsDialog"/></text>
            <text condition="areSpeakerNamesPresent"> on the <var name="wha.firstSpeakerName"/><opt> and <var name="wha.secondSpeakerName"/></opt></text>
            <text condition="areSpeakerRoomsPresent"> in the <var name="wha.firstSpeakerRoom"/><opt> and <var name="wha.secondSpeakerRoom"/></opt></text>
            <text/>
        </first>
    </phrases>
    <first>
        <random condition="isPlaybackQueueLocationNext">
            <dialog><phrase name="MUI"/><phrase name="titleByArtist"/> coming up next<phrase name="onRepeatFromApp"/>…</dialog>
            <dialog><phrase name="OKMUI"/><phrase name="titleByArtist"/> is next in<phrase name="appAttributionPossessive"/> queue…</dialog>
        </random>
        <random condition="isPersonalized">
            <dialog>Now playing <phrase name="personalizedName"/> <phrase name="titleByArtist"/><phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
            <dialog>Here’s <phrase name="personalizedName"/> <phrase name="titleByArtist"/><phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
        </random>
        <random condition="isPlaybackQueueLocationLater">
            <dialog><phrase name="OKMUI"/><phrase name="titleByArtist"/> is now in<phrase name="appAttributionPossessive"/> queue…</dialog>
            <dialog><phrase name="MUI"/><phrase name="titleByArtist"/> is coming up later<phrase name="onRepeatFromApp"/>…</dialog>
            <dialog><phrase name="MUI"/><phrase name="titleByArtist"/> is coming up soon<phrase name="onRepeatFromApp"/>…</dialog>
        </random>
        <first condition="isOnShuffle">
            <dialog condition="isOnRepeat"><phrase name="titleByArtist"/> now shuffling <phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
            <random>
                <dialog><phrase name="MUI"/><transform mode="capitalizeSentence">here’s</transform> <phrase name="titleByArtist"/> on shuffle<phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
                <dialog><phrase name="MUI"/><transform mode="capitalizeSentence">now</transform> shuffling <phrase name="titleByArtist"/><phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
                <dialog><phrase name="MUI"/><phrase name="titleByArtist"/> now shuffling<phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
            </random>
        </first>
        <first condition="isPlaylist">
            <dialog condition="isOnRepeat"><phrase name="MUI"/><phrase name="titleByArtist"/> now playing<phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
            <dialog condition="appSpecifiedOrAttributionRequired"><phrase name="MUI"/><phrase name="titleByArtist"/> now playing<phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
            <random condition="isPlaylist">
                <dialog><phrase name="MUI"/><transform mode="capitalizeSentence">here’s</transform> your playlist: <phrase name="titleByArtist"/><phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
                <dialog><phrase name="MUI"/><transform mode="capitalizeSentence">here’s</transform> your <phrase name="titleByArtist"/><phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
            </random>
        </first>
        <random>
            <dialog><phrase name="MUI"/><transform mode="capitalizeSentence">here’s</transform> <phrase name="titleByArtist"/><phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
            <dialog><phrase name="MUI"/><transform mode="capitalizeSentence">now</transform> playing <phrase name="titleByArtist"/><phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
            <dialog><phrase name="MUI"/><phrase name="titleByArtist"/> now playing<phrase name="onRepeatFromApp"/><phrase name="whaDialog"/>…</dialog>
        </random>
    </first>
</cat>
